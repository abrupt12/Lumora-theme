<div class="text-bubbles">
  <div class="page-width">
    <div class="text-bubbles__container">
      {%- for block in section.blocks -%}
        <div class="text-bubble__wrapper {{ block.settings.position }}" {{ block.shopify_attributes }}>
          <div class="text-bubble">
            {{ block.settings.text }}
          </div>
          {%- if block.settings.icon != blank -%}
            <div class="text-bubble__icon">
              <img src="{{ block.settings.icon | img_url: 'master' }}"
                alt=""
                width="50"
                height="50"
                loading="lazy">
            </div>
          {%- endif -%}
        </div>
      {%- endfor -%}
    </div>

    {%- if section.settings.description != blank -%}
      <div class="text-bubbles__description">
        {{ section.settings.description }}
      </div>
    {%- endif -%}

    {%- if section.settings.button_text != blank and section.settings.button_link != blank -%}
      <div class="text-bubbles__button-wrapper">
        <a href="{{ section.settings.button_link }}" class="button text-bubbles__button">
          {{ section.settings.button_text }}
          <span class="button__arrow">â†’</span>
        </a>
      </div>
    {%- endif -%}
  </div>
</div>

<style>
.text-bubbles {
  padding: 80px 0;
  background: {{ section.settings.background_color }};
}

.text-bubbles__container {
  position: relative;
  max-width: 1000px;
  margin: 0 auto 40px;
  min-height: 200px;
}

.text-bubble__wrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
  margin: 10px;
}

.text-bubble {
  background: white;
  border: 2px solid {{ section.settings.bubble_border_color }};
  border-radius: 40px;
  padding: 15px 30px;
  font-size: {{ section.settings.text_size }}px;
  color: {{ section.settings.text_color }};
  font-weight: 500;
  white-space: nowrap;
}

.text-bubble__icon {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  overflow: hidden;
  margin-left: 10px;
}

.text-bubble__icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.text-bubbles__description {
  max-width: 800px;
  margin: 0 auto 30px;
  text-align: center;
  font-size: 1.2rem;
  line-height: 1.6;
  color: {{ section.settings.description_color }};
}

.text-bubbles__button-wrapper {
  text-align: center;
}

.text-bubbles__button {
  display: inline-flex;
  align-items: center;
  background: {{ section.settings.button_background }};
  color: {{ section.settings.button_text_color }};
  padding: 15px 30px;
  border-radius: 4px;
  text-decoration: none;
  font-weight: 500;
  transition: transform 0.2s, opacity 0.2s;
}

.text-bubbles__button:hover {
  transform: translateY(-2px);
  opacity: 0.9;
}

.button__arrow {
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .text-bubbles__container {
    flex-direction: column;
    align-items: center;
  }

  .text-bubble {
    font-size: calc({{ section.settings.text_size }}px * 0.8);
  }
}
</style>

{% schema %}
{
  "name": "Text Bubbles",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "bubble_border_color",
      "label": "Bubble border color",
      "default": "#003B4D"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#003B4D"
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Text size",
      "default": 40
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Hearth Display is a centralized hub that makes family lives easier for kids and parents at home. As a platform that grows with your child, Hearth gives your children a leg up by helping them develop foundational life skills through following routines, tracking responsibilities, and celebrating every milestone in between.</p>"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description color",
      "default": "#003B4D"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Discover Hearth Display"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Button background",
      "default": "#003B4D"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#ffffff"
    }
  ],
  "blocks": [
    {
      "type": "bubble",
      "name": "Text Bubble",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Bubble text",
          "default": "Independence"
        },
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon image"
        },
        {
          "type": "select",
          "id": "position",
          "label": "Position",
          "options": [
            {
              "value": "top-left",
              "label": "Top Left"
            },
            {
              "value": "top-center",
              "label": "Top Center"
            },
            {
              "value": "top-right",
              "label": "Top Right"
            },
            {
              "value": "middle-left",
              "label": "Middle Left"
            },
            {
              "value": "middle-center",
              "label": "Middle Center"
            },
            {
              "value": "middle-right",
              "label": "Middle Right"
            },
            {
              "value": "bottom-left",
              "label": "Bottom Left"
            },
            {
              "value": "bottom-center",
              "label": "Bottom Center"
            },
            {
              "value": "bottom-right",
              "label": "Bottom Right"
            }
          ],
          "default": "middle-center"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Text Bubbles",
      "blocks": [
        {
          "type": "bubble",
          "settings": {
            "text": "Independence",
            "position": "top-left"
          }
        },
        {
          "type": "bubble",
          "settings": {
            "text": "begins",
            "position": "top-right"
          }
        },
        {
          "type": "bubble",
          "settings": {
            "text": "with a",
            "position": "middle-left"
          }
        },
        {
          "type": "bubble",
          "settings": {
            "text": "single",
            "position": "middle-right"
          }
        },
        {
          "type": "bubble",
          "settings": {
            "text": "tap.",
            "position": "bottom-right"
          }
        }
      ]
    }
  ]
}
{% endschema %} 