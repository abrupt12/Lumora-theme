{%- comment -%}Footer section test{%- endcomment -%}
{%- style -%}
.footer-{{ section.id }} {
  --footer-bg: {{ section.settings.background | default: '#003B4D' }};
  --footer-text: {{ section.settings.text_color | default: '#ffffff' }};
  --newsletter-bg: {{ section.settings.newsletter_bg | default: 'rgba(255, 255, 255, 0.05)' }};
}
{%- endstyle -%}

<footer class="footer footer-{{ section.id }}">
  <div class="page-width">
    <div class="footer__grid">
      <div class="footer__newsletter">
        <h2 class="footer__newsletter-title">{{ section.settings.newsletter_title | default: 'SIGN UP FOR OUR NEWSLETTER' }}</h2>
        
        {%- form 'customer', class: 'footer__form' -%}
          <div class="footer__field-group">
            <input
              type="email"
              name="contact[email]"
              id="NewsletterForm--{{ section.id }}"
              class="footer__field"
              placeholder="{{ section.settings.newsletter_placeholder | default: 'Enter your email here' }}"
              required
            >
            <button type="submit" class="footer__submit">
              <span class="icon-arrow" aria-hidden="true">→</span>
            </button>
          </div>
        {%- endform -%}
      </div>

      <nav class="footer__nav" role="navigation">
        <ul class="footer__menu">
          {%- for link in section.settings.menu.links -%}
            <li><a href="{{ link.url }}">{{ link.title }}</a></li>
          {%- endfor -%}
        </ul>
      </nav>

      <div class="footer__promo">
        <div class="footer__promo-content">
          <h2 class="footer__promo-title">{{ section.settings.promo_title | default: 'Built by moms, for families' }}</h2>
          <p class="footer__promo-text">{{ section.settings.promo_text }}</p>
          <a href="{{ section.settings.promo_button_link }}" class="footer__promo-button">
            {{ section.settings.promo_button_text | default: 'Learn More' }}
            <span class="icon-arrow" aria-hidden="true">→</span>
          </a>
        </div>
        {%- if section.settings.promo_image != blank -%}
          <img
            src="{{ section.settings.promo_image | image_url: width: 600 }}"
            alt="{{ section.settings.promo_image.alt | escape }}"
            loading="lazy"
            width="{{ section.settings.promo_image.width }}"
            height="{{ section.settings.promo_image.height }}"
            class="footer__promo-image"
          >
        {%- endif -%}
      </div>
    </div>
  </div>
</footer>

<style>
.footer {
  background: var(--footer-bg);
  color: var(--footer-text);
  padding: 6rem 0;
}

.footer__grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1.5fr;
  gap: 4rem;
}

.footer__newsletter-title {
  font-size: 0.875rem;
  letter-spacing: 0.05em;
  margin-bottom: 1.5rem;
}

.footer__field-group {
  position: relative;
  display: flex;
  max-width: 400px;
}

.footer__field {
  width: 100%;
  background: var(--newsletter-bg);
  border: none;
  padding: 1rem 4rem 1rem 1.5rem;
  color: var(--footer-text);
  font-size: 1.25rem;
  border-radius: 100px;
}

.footer__submit {
  position: absolute;
  right: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  color: var(--footer-text);
  padding: 0.5rem;
  cursor: pointer;
  font-size: 1.5rem;
  transition: transform 0.2s ease;
}

.footer__submit:hover {
  transform: translateY(-50%) translateX(4px);
}

.footer__menu {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer__menu li {
  margin-bottom: 1rem;
}

.footer__menu a {
  color: var(--footer-text);
  text-decoration: none;
  font-size: 1.125rem;
  transition: opacity 0.2s ease;
}

.footer__menu a:hover {
  opacity: 0.8;
}

.footer__promo {
  background: var(--newsletter-bg);
  border-radius: 1rem;
  overflow: hidden;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  gap: 2rem;
  padding: 2rem;
}

.footer__promo-title {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.footer__promo-text {
  margin-bottom: 1.5rem;
  line-height: 1.6;
}

.footer__promo-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5em;
  color: var(--footer-text);
  text-decoration: none;
  font-weight: 500;
}

.footer__promo-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0.5rem;
}

@media screen and (max-width: 989px) {
  .footer__grid {
    grid-template-columns: 1fr;
    gap: 3rem;
  }

  .footer__promo {
    grid-template-columns: 1fr;
  }
}

@media screen and (max-width: 749px) {
  .footer {
    padding: 4rem 0;
  }
  
  .footer__field {
    font-size: 1rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .footer__submit,
  .footer__menu a {
    transition: none;
  }
}
</style>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "text",
      "id": "newsletter_title",
      "label": "Newsletter Title",
      "default": "SIGN UP FOR OUR NEWSLETTER"
    },
    {
      "type": "text",
      "id": "newsletter_placeholder",
      "label": "Newsletter Placeholder",
      "default": "Enter your email here"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Footer Menu",
      "default": "footer"
    },
    {
      "type": "text",
      "id": "promo_title",
      "label": "Promo Title",
      "default": "Built by moms, for families"
    },
    {
      "type": "richtext",
      "id": "promo_text",
      "label": "Promo Text",
      "default": "<p>Learn more about our mission and how our company continues to evolve as your families (and ours) grow.</p>"
    },
    {
      "type": "text",
      "id": "promo_button_text",
      "label": "Promo Button Text",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "promo_button_link",
      "label": "Promo Button Link"
    },
    {
      "type": "image_picker",
      "id": "promo_image",
      "label": "Promo Image"
    },
    {
      "type": "color",
      "id": "background",
      "label": "Background Color",
      "default": "#003B4D"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color_background",
      "id": "newsletter_bg",
      "label": "Newsletter Background",
      "default": "rgba(255, 255, 255, 0.05)"
    }
  ],
  "presets": [
    {
      "name": "Footer",
      "category": "Footer"
    }
  ]
}
{% endschema %} 